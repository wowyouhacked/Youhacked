<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Envio Automático de Dados</title>
</head>
<body>
    <h2>Coletando Dados Automaticamente</h2>
    <p>Dados serão enviados automaticamente para o servidor.</p>

    <script>
        // Função para coletar dados automaticamente
        function coletarEEnviarDados() {
            // Dados fictícios que podem ser coletados automaticamente
            const nome = "João Silva";
            const email = "joao@exemplo.com";
            const dispositivo = "Android";  // Aqui você pode coletar informações do dispositivo, se necessário.

            // URL do servidor (agora na porta 3000)
            const servidorURL = "http://localhost:3000/coletar-dados";

            // Envia os dados automaticamente para o servidor usando a fetch API
            fetch(servidorURL, {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json'
                },
                body: JSON.stringify({ nome: nome, email: email, dispositivo: dispositivo })
            })
            .then(response => response.json())
            .then(data => {
                // Mensagem de sucesso no console
                console.log('Dados enviados com sucesso:', data);
            })
            .catch((error) => {
                // Caso haja erro ao enviar os dados
                console.error('Erro ao enviar os dados:', error);
            });
        }

        // Chama a função de coleta e envio de dados assim que a página for carregada
        window.onload = coletarEEnviarDados;
    </script>
</body>
</html>
