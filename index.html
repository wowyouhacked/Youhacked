<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Coleta de Dados e Envio</title>
</head>
<body>
    <h1>Coletando dados do seu navegador...</h1>
    <p>Os dados serão coletados e enviados ao servidor.</p>

    <script>
        // Função para coletar dados do navegador
        function coletarDados() {
            let dados = {
                userAgent: navigator.userAgent,
                navegador: navigator.appName,
                plataforma: navigator.platform,
                tela: {
                    largura: screen.width,
                    altura: screen.height,
                    profundidade: screen.colorDepth
                },
                cookies: document.cookie,
                localStorage: localStorage.length,
                sessionStorage: sessionStorage.length
            };

            // Enviar os dados para o servidor via POST
            fetch('http://localhost:3000', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json'
                },
                body: JSON.stringify(dados)  // Converte os dados para JSON
            })
            .then(response => response.text())
            .then(data => {
                console.log('Resposta do servidor:', data);
            })
            .catch(error => {
                console.error('Erro ao enviar os dados:', error);
            });
        }

        // Chama a função para coletar os dados quando a página carregar
        window.onload = function() {
            coletarDados();
        };
    </script>
</body>
</html>
